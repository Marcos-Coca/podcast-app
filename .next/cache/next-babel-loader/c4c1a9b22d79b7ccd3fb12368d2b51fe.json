{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Layout } from '../components/Layout';\nimport { SeriesLits } from '../components/SeriesList';\nimport { PodcastsList } from '../components/PodcastsList';\nimport { Banner } from '../components/Banner';\nimport Error from './_error';\n\nvar Channel = function Channel(_ref) {\n  _s();\n\n  var channel = _ref.channel,\n      _ref$audioClips = _ref.audioClips,\n      audioClips = _ref$audioClips === void 0 ? [] : _ref$audioClips,\n      _ref$series = _ref.series,\n      series = _ref$series === void 0 ? [] : _ref$series,\n      statusCode = _ref.statusCode;\n\n  var _useState = useState(null),\n      openPodcast = _useState[0],\n      setOpenPodcast = _useState[1];\n\n  function handlePodcast(e, podcast) {\n    e.preventDefault();\n    setOpenPodcast(podcast);\n  }\n\n  if (statusCode !== 200) {\n    return __jsx(Error, {\n      statusCode: statusCode\n    });\n  }\n\n  return __jsx(Layout, {\n    title: \"Channel \".concat(channel.title)\n  }, __jsx(Banner, {\n    image: channel.urls.banner_image.original\n  }), __jsx(\"h1\", {\n    className: \"jsx-3402982447\"\n  }, channel.title), __jsx(\"h2\", {\n    className: \"jsx-3402982447\"\n  }, \"Series\"), __jsx(SeriesLits, {\n    series: series\n  }), __jsx(\"h2\", {\n    className: \"jsx-3402982447\"\n  }, \"Ultimos Podcasts\"), __jsx(PodcastsList, {\n    audioClips: audioClips,\n    handlePodcast: handlePodcast\n  }), __jsx(_JSXStyle, {\n    id: \"3402982447\"\n  }, \"h1.jsx-3402982447{font-weight:600;padding:15px;}h2.jsx-3402982447{padding:5px;font-size:32px;font-weight:600;margin:0;text-align:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWRtaW5pc3RyYWRvclxcRGVza3RvcFxccGxhdHppXFxuZXh0SlNcXHBhZ2VzXFxjaGFubmVsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlDd0IsQUFHcUMsQUFJSixZQUNHLElBSkYsV0FLRyxFQUpwQixjQUthLFNBQ1Msa0JBQ3RCIiwiZmlsZSI6IkM6XFxVc2Vyc1xcQWRtaW5pc3RyYWRvclxcRGVza3RvcFxccGxhdHppXFxuZXh0SlNcXHBhZ2VzXFxjaGFubmVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCc7XHJcbmltcG9ydCB7IFNlcmllc0xpdHMgfSBmcm9tICcuLi9jb21wb25lbnRzL1Nlcmllc0xpc3QnO1xyXG5pbXBvcnQgeyBQb2RjYXN0c0xpc3QgfSBmcm9tICcuLi9jb21wb25lbnRzL1BvZGNhc3RzTGlzdCc7XHJcbmltcG9ydCB7IEJhbm5lciB9IGZyb20gJy4uL2NvbXBvbmVudHMvQmFubmVyJztcclxuaW1wb3J0IEVycm9yIGZyb20gJy4vX2Vycm9yJztcclxuXHJcbmNvbnN0IENoYW5uZWwgPSAoeyBjaGFubmVsLCBhdWRpb0NsaXBzID0gW10sIHNlcmllcyA9IFtdLCBzdGF0dXNDb2RlIH0pID0+IHtcclxuICAgIGNvbnN0IFtvcGVuUG9kY2FzdCwgc2V0T3BlblBvZGNhc3RdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlUG9kY2FzdChlLCBwb2RjYXN0KSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHNldE9wZW5Qb2RjYXN0KHBvZGNhc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGF0dXNDb2RlICE9PSAyMDApIHtcclxuICAgICAgICByZXR1cm4gPEVycm9yIHN0YXR1c0NvZGU9e3N0YXR1c0NvZGV9IC8+O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPExheW91dCB0aXRsZT17YENoYW5uZWwgJHtjaGFubmVsLnRpdGxlfWB9PlxyXG4gICAgICAgICAgICA8QmFubmVyIGltYWdlPXtjaGFubmVsLnVybHMuYmFubmVyX2ltYWdlLm9yaWdpbmFsfSAvPlxyXG4gICAgICAgICAgICA8aDE+e2NoYW5uZWwudGl0bGV9PC9oMT5cclxuXHJcbiAgICAgICAgICAgIDxoMj5TZXJpZXM8L2gyPlxyXG4gICAgICAgICAgICA8U2VyaWVzTGl0cyBzZXJpZXM9e3Nlcmllc30gLz5cclxuXHJcbiAgICAgICAgICAgIDxoMj5VbHRpbW9zIFBvZGNhc3RzPC9oMj5cclxuICAgICAgICAgICAgPFBvZGNhc3RzTGlzdFxyXG4gICAgICAgICAgICAgICAgYXVkaW9DbGlwcz17YXVkaW9DbGlwc31cclxuICAgICAgICAgICAgICAgIGhhbmRsZVBvZGNhc3Q9e2hhbmRsZVBvZGNhc3R9XHJcbiAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAgICAgICBoMSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaDIge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDMycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC9MYXlvdXQ+XHJcbiAgICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHF1ZXJ5LCByZXMgfSkge1xyXG4gICAgY29uc3QgaWRDaGFubmVsID0gcXVlcnkuaWQ7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IFtyZXFDaGFubmVsLCByZXFTZXJpZXMsIHJlcUF1ZGlvXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9YCksXHJcbiAgICAgICAgICAgIGZldGNoKFxyXG4gICAgICAgICAgICAgICAgYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9L2NoaWxkX2NoYW5uZWxzYFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBmZXRjaChcclxuICAgICAgICAgICAgICAgIGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWRDaGFubmVsfS9hdWRpb19jbGlwc2BcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgaWYgKHJlcUNoYW5uZWwuc3RhdHVzID49IDQwMCkge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IHJlcUNoYW5uZWwuc3RhdHVzO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQ2xpcHM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQwNCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRhdGFDaGFuZWwgPSBhd2FpdCByZXFDaGFubmVsLmpzb24oKTtcclxuICAgICAgICBjb25zdCBjaGFubmVsID0gZGF0YUNoYW5lbC5ib2R5LmNoYW5uZWw7XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGFBdWRpbyA9IGF3YWl0IHJlcUF1ZGlvLmpzb24oKTtcclxuICAgICAgICBjb25zdCBhdWRpb0NsaXBzID0gZGF0YUF1ZGlvLmJvZHkuYXVkaW9fY2xpcHM7XHJcblxyXG4gICAgICAgIGxldCBkYXRhU2VyaWVzID0gYXdhaXQgcmVxU2VyaWVzLmpzb24oKTtcclxuICAgICAgICBsZXQgc2VyaWVzID0gZGF0YVNlcmllcy5ib2R5LmNoYW5uZWxzO1xyXG5cclxuICAgICAgICByZXR1cm4geyBwcm9wczogeyBjaGFubmVsLCBhdWRpb0NsaXBzLCBzZXJpZXMsIHN0YXR1c0NvZGU6IDIwMCB9IH07XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgY2hhbm5lbDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGF1ZGlvQ2xpcHM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZXJpZXM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiA1MDMsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2hhbm5lbDtcclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Administrador\\\\\\\\Desktop\\\\\\\\platzi\\\\\\\\nextJS\\\\\\\\pages\\\\\\\\channel.js */\"));\n};\n\n_s(Channel, \"pEhj3SwlPLKnCzInCkhwZ80CvFI=\");\n\n_c = Channel;\nexport var __N_SSP = true;\nexport default Channel;\n\nvar _c;\n\n$RefreshReg$(_c, \"Channel\");","map":{"version":3,"sources":["C:/Users/Administrador/Desktop/platzi/nextJS/pages/channel.js"],"names":["React","useState","Layout","SeriesLits","PodcastsList","Banner","Error","Channel","channel","audioClips","series","statusCode","openPodcast","setOpenPodcast","handlePodcast","e","podcast","preventDefault","title","urls","banner_image","original"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAA2D;AAAA;;AAAA,MAAxDC,OAAwD,QAAxDA,OAAwD;AAAA,6BAA/CC,UAA+C;AAAA,MAA/CA,UAA+C,gCAAlC,EAAkC;AAAA,yBAA9BC,MAA8B;AAAA,MAA9BA,MAA8B,4BAArB,EAAqB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAAA,kBACjCV,QAAQ,CAAC,IAAD,CADyB;AAAA,MAChEW,WADgE;AAAA,MACnDC,cADmD;;AAGvE,WAASC,aAAT,CAAuBC,CAAvB,EAA0BC,OAA1B,EAAmC;AAC/BD,IAAAA,CAAC,CAACE,cAAF;AACAJ,IAAAA,cAAc,CAACG,OAAD,CAAd;AACH;;AAED,MAAIL,UAAU,KAAK,GAAnB,EAAwB;AACpB,WAAO,MAAC,KAAD;AAAO,MAAA,UAAU,EAAEA;AAAnB,MAAP;AACH;;AAED,SACI,MAAC,MAAD;AAAQ,IAAA,KAAK,oBAAaH,OAAO,CAACU,KAArB;AAAb,KACI,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEV,OAAO,CAACW,IAAR,CAAaC,YAAb,CAA0BC;AAAzC,IADJ,EAEI;AAAA;AAAA,KAAKb,OAAO,CAACU,KAAb,CAFJ,EAII;AAAA;AAAA,cAJJ,EAKI,MAAC,UAAD;AAAY,IAAA,MAAM,EAAER;AAApB,IALJ,EAOI;AAAA;AAAA,wBAPJ,EAQI,MAAC,YAAD;AACI,IAAA,UAAU,EAAED,UADhB;AAEI,IAAA,aAAa,EAAEK;AAFnB,IARJ;AAAA;AAAA,gxJADJ;AA6BH,CAzCD;;GAAMP,O;;KAAAA,O;;AAyFN,eAAeA,OAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { Layout } from '../components/Layout';\r\nimport { SeriesLits } from '../components/SeriesList';\r\nimport { PodcastsList } from '../components/PodcastsList';\r\nimport { Banner } from '../components/Banner';\r\nimport Error from './_error';\r\n\r\nconst Channel = ({ channel, audioClips = [], series = [], statusCode }) => {\r\n    const [openPodcast, setOpenPodcast] = useState(null);\r\n\r\n    function handlePodcast(e, podcast) {\r\n        e.preventDefault();\r\n        setOpenPodcast(podcast);\r\n    }\r\n\r\n    if (statusCode !== 200) {\r\n        return <Error statusCode={statusCode} />;\r\n    }\r\n\r\n    return (\r\n        <Layout title={`Channel ${channel.title}`}>\r\n            <Banner image={channel.urls.banner_image.original} />\r\n            <h1>{channel.title}</h1>\r\n\r\n            <h2>Series</h2>\r\n            <SeriesLits series={series} />\r\n\r\n            <h2>Ultimos Podcasts</h2>\r\n            <PodcastsList\r\n                audioClips={audioClips}\r\n                handlePodcast={handlePodcast}\r\n            />\r\n\r\n            <style jsx>{`\r\n                h1 {\r\n                    font-weight: 600;\r\n                    padding: 15px;\r\n                }\r\n                h2 {\r\n                    padding: 5px;\r\n                    font-size: 32px;\r\n                    font-weight: 600;\r\n                    margin: 0;\r\n                    text-align: center;\r\n                }\r\n            `}</style>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport async function getServerSideProps({ query, res }) {\r\n    const idChannel = query.id;\r\n    try {\r\n        const [reqChannel, reqSeries, reqAudio] = await Promise.all([\r\n            fetch(`https://api.audioboom.com/channels/${idChannel}`),\r\n            fetch(\r\n                `https://api.audioboom.com/channels/${idChannel}/child_channels`\r\n            ),\r\n            fetch(\r\n                `https://api.audioboom.com/channels/${idChannel}/audio_clips`\r\n            ),\r\n        ]);\r\n\r\n        if (reqChannel.status >= 400) {\r\n            res.statusCode = reqChannel.status;\r\n            return {\r\n                props: {\r\n                    channel: null,\r\n                    audioClips: null,\r\n                    series: null,\r\n                    statusCode: 404,\r\n                },\r\n            };\r\n        }\r\n        const dataChanel = await reqChannel.json();\r\n        const channel = dataChanel.body.channel;\r\n\r\n        const dataAudio = await reqAudio.json();\r\n        const audioClips = dataAudio.body.audio_clips;\r\n\r\n        let dataSeries = await reqSeries.json();\r\n        let series = dataSeries.body.channels;\r\n\r\n        return { props: { channel, audioClips, series, statusCode: 200 } };\r\n    } catch (err) {\r\n        return {\r\n            props: {\r\n                channel: null,\r\n                audioClips: null,\r\n                series: null,\r\n                statusCode: 503,\r\n            },\r\n        };\r\n    }\r\n}\r\n\r\nexport default Channel;\r\n"]},"metadata":{},"sourceType":"module"}